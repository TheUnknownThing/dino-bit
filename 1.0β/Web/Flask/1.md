{% extends 'base.html' %} 是一个 Flask 模板语言的指令，它的作用是从 base.html 文件中继承页面布局和结构，实现模板的重用。在使用 Flask 框架和模板引擎时，我们通常会创建一个基础模板（比如 base.html），然后在其他页面模板中使用 {% extends 'base.html' %} 来继承它的结构和样式，从而减少代码的重复和提高代码的可维护性。

举个例子，如果你有多个页面模板（比如 login.html，register.html，profile.html），它们都需要有一些共同的页面元素（比如头部导航栏，底部版权信息等），那么你可以把这些元素抽象出来放到 base.html 中，然后在其他页面模板中使用 {% extends 'base.html' %} 继承它，再添加各自独有的内容。这样做可以大大减少代码的冗余，提高开发效率。

总之，{% extends 'base.html' %} 是一个非常有用的指令，可以让我们实现模板的重用和页面布局的统一。

Flask 快速表单是使用 Flask-WTF 扩展包提供的一种快速创建表单的方法。它通过定义一个继承了 FlaskForm 类的子类来创建表单，然后通过该类的实例化对象，直接在 Flask 应用中的路由函数中调用表单对象的方法，就能够自动生成表单的 HTML 代码，从而快速实现表单的功能。

具体实现的过程如下：

- 导入相关的库和类，包括 Flask、Flask-WTF、wtforms、以及需要用到的表单字段类（比如 StringField、PasswordField、SubmitField 等）。

- 定义一个继承自 FlaskForm 的子类，其中定义的类变量就是表单字段，每个字段都有一个 label 属性（表示表单字段的标签）、一个 validators 属性（表示表单字段的验证规则）以及其他相关的属性。

- 在 Flask 应用的路由函数中，创建表单对象的实例化对象，然后通过 Flask 的模板引擎，将表单对象传递给模板，使用模板中的表单宏（比如 {{ form.username }}）来渲染表单字段，最后将表单对象传递给视图函数进行处理。


form.validate_on_submit() 是 Flask 中用于表单验证的常用方法。当请求方式是 POST 并且表单数据通过验证时，form.validate_on_submit() 会返回 True，否则返回 False。

具体来说，当请求方式是 GET 时，form.validate_on_submit() 会返回 False。当请求方式是 POST 时，它会将请求中的数据填充到表单对象中，并检查这些数据是否符合表单定义的验证规则。如果数据符合验证规则，则返回 True，表示表单数据有效；否则返回 False，表示表单数据无效。

在 Flask 中，我们通常会将表单验证的逻辑放在视图函数中，如下面的例子：

```python
@app.route('/login', methods=['GET', 'POST'])
def login():
    form = LoginForm()
    if form.validate_on_submit():
        # 验证表单通过，进行登录操作
        return redirect(url_for('index'))
    return render_template('login.html', form=form)
```

在这个例子中，如果表单验证通过，就会进行登录操作，否则会重新渲染登录表单，并将表单对象 form 传递给模板。模板中可以使用表单对象的属性和方法来渲染表单的各个部分。

你可以在服务器端检查用户名是否已经存在，并在注册表单页面上使用Flask的Flash消息来显示信息。以下是代码示例：

```python
from flask import Flask, render_template, flash, request, redirect, url_for
from flask_wtf import FlaskForm
from wtforms import StringField, PasswordField, SubmitField
from wtforms.validators import DataRequired, EqualTo
from flask_bootstrap import Bootstrap

app = Flask(__name__)
bootstrap = Bootstrap(app)
app.config['SECRET_KEY'] = 'hello python'

class RegistrationForm(FlaskForm):
    username = StringField('Username', validators=[DataRequired()])
    password = PasswordField('Password', validators=[DataRequired(), EqualTo('confirm', message='Passwords must match')])
    confirm = PasswordField('Confirm Password', validators=[DataRequired()])
    submit = SubmitField('Register')

@app.route('/register', methods=['GET', 'POST'])
def register():
    form = RegistrationForm()
    if form.validate_on_submit():
        username = form.username.data
        password = form.password.data
        # check if username already exists
        if username in userinfo:
            flash('Username already exists')
            return render_template('register.html', form=form)
        # add new user to the database
        userinfo[username] = password
        return redirect(url_for('login'))
    return render_template('register.html', form=form)

if __name__ == '__main__':
    app.run(debug=True)
```

在这个示例中，我们使用flash来设置消息。如果用户名已经存在，我们在模板中使用form对象渲染注册表单页面，然后使用flash将消息存储到会话中，以便在渲染页面时显示。如果表单验证通过，我们将添加新用户到数据库中，并将用户重定向到登录页面。

是的，使用 Flask 的 flash() 函数可以向用户发送消息，但需要在 HTML 文件中进行相应的修改才能显示出来。具体来说，需要在模板文件中添加一些逻辑判断，以检查是否有消息需要显示，并将消息显示在相应的位置上。一种常用的做法是使用 Bootstrap 提供的 alert 组件来显示消息，如下所示：

```html
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="container mt-3">
      {% for message in messages %}
        <div class="alert alert-info alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}
```

这段代码首先通过 Flask 的 get_flashed_messages() 函数获取所有的 flash 消息，并将其保存到一个名为 messages 的变量中。然后使用一个逻辑判断来检查 messages 是否为空，如果不为空，则遍历 messages 中的每一个消息，并使用 Bootstrap 的 alert 组件来将其显示出来。需要注意的是，每个消息都要有一个关闭按钮，以便用户可以手动关闭它。

如果你想将消息显示在不同的位置上，可以根据具体的需求进行修改。